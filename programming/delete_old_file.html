<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="application-name" content="Martin Woodward"/>
<meta name="description" content="Woodwardweb, the blog of Martin Woodward"/>
<meta name="application-url" content="http://www.woodwardweb.com"/>

<link rel="icon" href="http://www.woodwardweb.com/favicon.ico" type="image/ico" />
<link rel="icon" href="http://www.woodwardweb.com/mwicons/Martin_32.png" sizes="32x32"/>
<link rel="icon" href="http://www.woodwardweb.com/mwicons/Martin_48.png" sizes="48x48"/>
<link rel="icon" href="http://www.woodwardweb.com/mwicons/Martin_64.png" sizes="64x64"/>
<link rel="icon" href="http://www.woodwardweb.com/mwicons/Martin_128.png" sizes="128x128"/>

<link rel="openid.server" href="http://www.myopenid.com/server" />
<link rel="openid.delegate" href="http://martinwoodward.myopenid.com/" />

<link rel="stylesheet" href="http://www.woodwardweb.com/woodwardweb.css" type="text/css" />
<link rel="start" href="http://www.woodwardweb.com/" title="Home" />
<link rel="alternate" type="application/atom+xml" title="Recent Entries" href="http://www.woodwardweb.com/index.xml" />

<script type="text/javascript" src="http://www.woodwardweb.com/mt.js"></script>
<!--
<rdf:RDF xmlns="http://web.resource.org/cc/"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
<Work rdf:about="http://www.woodwardweb.com/programming/delete_old_file.html">
<dc:title>Delete Old Files</dc:title>
<dc:description>I was just trying to get some backups configured and I wanted a way of deleting files from a directory stucture that were older than a certain date. I couldn&apos;t figure out how to do it easier from a Windows...</dc:description>
<dc:creator>Martin Woodward</dc:creator>
<dc:date>2006-02-09T13:29:52+00:00</dc:date>
<license rdf:resource="http://creativecommons.org/licenses/by/1.0/" />
</Work>
<License rdf:about="http://creativecommons.org/licenses/by/1.0/">
<requires rdf:resource="http://web.resource.org/cc/Attribution" />
<requires rdf:resource="http://web.resource.org/cc/Notice" />
<permits rdf:resource="http://web.resource.org/cc/Reproduction" />
<permits rdf:resource="http://web.resource.org/cc/Distribution" />
<permits rdf:resource="http://web.resource.org/cc/DerivativeWorks" />
</License>
</rdf:RDF>
-->



    <link rel="prev bookmark" href="http://www.woodwardweb.com/personal/028_9018_4242_i.html" title="028 9018 4242 is the new 555  " />
    <link rel="next bookmark" href="http://www.woodwardweb.com/personal/sky_brings_mari.html" title="Sky+ Brings Marital Strife" />
    
    <title>Delete Old Files - Martin Woodward</title>
    <!-- Google tracker -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-71966-1");
pageTracker._trackPageview();
</script>
</head>
<body id="mt-blog" class="mt-entry-archive layout-wt">
    <div id="container">
        <div id="container-inner">


            <div id="header">
    <div id="header-inner">
        <div id="header-content">


            <div id="header-name"><a href="http://www.woodwardweb.com/" accesskey="1">Martin Woodward</a></div>

        </div>
    </div>
</div>



            <div id="content">
                <div id="content-inner">


                    <div id="alpha">
                        <div id="alpha-inner">


                            <div id="entry-1503" class="entry-asset asset hentry">
                                <div class="asset-header">
                                    <h1 id="page-title" class="asset-name entry-title">Delete Old Files</h1>
                                    <div class="asset-meta">
                                        <span class="byline">

                                            By <span class="vcard author"><a class="fn url" href="http://www.woodwardweb.com">Martin Woodward</a></span> on <abbr class="published" title="2006-02-09T13:29:52+00:00">February  9, 2006  1:29 PM</abbr>

                                        </span>

                                        <span class="separator">|</span> <a href="http://www.woodwardweb.com/programming/delete_old_file.html#comments">3 Comments</a>


                                    </div>
                                </div>
                                <div class="asset-content entry-content">

                                    <div class="asset-body">
                                        <p>I was just trying to get some backups configured and I wanted a way of deleting files from a directory stucture that were older than a certain date.  I couldn't figure out how to do it easier from a Windows 2003 command script, so I wrote a quick C# console app to do the job.  I've included the code and a copy in case you find this useful.  <B>WARNING:</B>  Use this at your own risk, as I wrote this for myself I haven't spent any time putting in "Are You Sure" prompts or anything.  If you were to do something crazy like <code>DeleteOldFiles 5 c:\</code> it will delete any file on your C:\ drive that has not been written to in 5 days - including things in the Windows directory..</p>

<p><B>Update:</B>  The second I posted this, I noticed the <a href="http://technet2.microsoft.com/WindowsServer/en/Library/9660fea1-65c7-48cf-b466-204ba159381e1033.mspx">ForFiles</a> command in the Windows Server 2003 resource kit that works a bit like find on unix.  Hey ho, at least I wrote some C# code today.</p>
                                    </div>


                                    <div id="more" class="asset-more">
                                        <p>The code is below, as you can see there is not a lot to it - but a nice example of recursion.</p>

<p><DIV id="codesample" style="BORDER:1px solid; OVERFLOW: auto; WIDTH: 600px; HEIGHT: 300px;"><DIV style="FONT-FAMILY: Courier New"><SPAN style="COLOR: blue">using</SPAN>&nbsp;System; <BR><SPAN style="COLOR: blue">using</SPAN>&nbsp;System.Collections.Generic; <BR><SPAN style="COLOR: blue">using</SPAN>&nbsp;System.Text; <BR><SPAN style="COLOR: blue">using</SPAN>&nbsp;System.IO; <BR><BR><SPAN style="COLOR: blue">namespace</SPAN>&nbsp;DeleteOldFiles <BR>{ <BR>&nbsp;&nbsp;&nbsp;&nbsp;<SPAN style="COLOR: blue">public</SPAN>&nbsp;<SPAN style="COLOR: blue">class</SPAN>&nbsp;DeleteOldFiles <BR>&nbsp;&nbsp;&nbsp;&nbsp;{ <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN style="COLOR: blue">private</SPAN>&nbsp;<SPAN style="COLOR: blue">static</SPAN>&nbsp;<SPAN style="COLOR: blue">double</SPAN>&nbsp;fileCount&nbsp;=&nbsp;<SPAN style="COLOR: maroon">0</SPAN>; <BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN style="COLOR: blue">static</SPAN>&nbsp;<SPAN style="COLOR: blue">void</SPAN>&nbsp;Main(<SPAN style="COLOR: blue">string</SPAN>[]&nbsp;args) <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN style="COLOR: blue">double</SPAN>&nbsp;daysOld; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN style="COLOR: blue">if</SPAN>&nbsp;(args.Length&nbsp;!=&nbsp;<SPAN style="COLOR: maroon">2</SPAN> <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;||&nbsp;!<SPAN style="COLOR: blue">double</SPAN>.TryParse(args[<SPAN style="COLOR: maroon">0</SPAN>],&nbsp;<SPAN style="COLOR: blue">out</SPAN>&nbsp;daysOld) <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;||&nbsp;!Directory.Exists(args[<SPAN style="COLOR: maroon">1</SPAN>])) <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;displayUsage(); <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN style="COLOR: blue">return</SPAN>; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deleteOldFiles(args[<SPAN style="COLOR: maroon">1</SPAN>],&nbsp;daysOld); <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN style="COLOR: blue">static</SPAN>&nbsp;<SPAN style="COLOR: blue">private</SPAN>&nbsp;<SPAN style="COLOR: blue">void</SPAN>&nbsp;deleteOldFiles(<SPAN style="COLOR: blue">string</SPAN>&nbsp;path,&nbsp;<SPAN style="COLOR: blue">double</SPAN>&nbsp;daysOld) <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.Console.WriteLine( <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String.Format(<SPAN style="COLOR: maroon">"Deleting&nbsp;files&nbsp;older&nbsp;than&nbsp;{0}&nbsp;days"</SPAN>,&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;daysOld) <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;); <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deleteOldFiles(path,&nbsp;DateTime.Now.AddDays(-daysOld)); <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.Console.WriteLine( <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String.Format(<SPAN style="COLOR: maroon">"{0}&nbsp;files&nbsp;deleted"</SPAN>,&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fileCount) <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;); <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN style="COLOR: blue">static</SPAN>&nbsp;<SPAN style="COLOR: blue">private</SPAN>&nbsp;<SPAN style="COLOR: blue">void</SPAN>&nbsp;deleteOldFiles&nbsp;(<SPAN style="COLOR: blue">string</SPAN>&nbsp;path,&nbsp;DateTime&nbsp;olderThanDate) <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DirectoryInfo&nbsp;dirInfo&nbsp;=&nbsp;<SPAN style="COLOR: blue">new</SPAN>&nbsp;DirectoryInfo(path); <BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInfo[]&nbsp;files&nbsp;=&nbsp;dirInfo.GetFiles(); <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN style="COLOR: blue">foreach</SPAN>&nbsp;(FileInfo&nbsp;file&nbsp;<SPAN style="COLOR: blue">in</SPAN>&nbsp;files) <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN style="COLOR: blue">if</SPAN>&nbsp;(file.LastWriteTime&nbsp;&lt;&nbsp;olderThanDate) <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.Console.WriteLine( <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String.Format(<SPAN style="COLOR: maroon">"Delete&nbsp;{0}."</SPAN>,file.FullName) <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;); <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.IsReadOnly&nbsp;=&nbsp;<SPAN style="COLOR: maroon">false</SPAN>; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.Delete(); <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fileCount++; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN style="COLOR: green">//&nbsp;Now&nbsp;recurse&nbsp;down&nbsp;the&nbsp;directories</SPAN> <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DirectoryInfo[]&nbsp;dirs&nbsp;=&nbsp;dirInfo.GetDirectories(); <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN style="COLOR: blue">foreach</SPAN>&nbsp;(DirectoryInfo&nbsp;dir&nbsp;<SPAN style="COLOR: blue">in</SPAN>&nbsp;dirs) <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deleteOldFiles(dir.FullName,&nbsp;olderThanDate); <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN style="COLOR: blue">static</SPAN>&nbsp;<SPAN style="COLOR: blue">private</SPAN>&nbsp;<SPAN style="COLOR: blue">void</SPAN>&nbsp;displayUsage() <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN style="COLOR: blue">string</SPAN>&nbsp;message&nbsp;=&nbsp;<SPAN style="COLOR: maroon">"DeleteOldFiles.\n\n"</SPAN> <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;<SPAN style="COLOR: maroon">"Console&nbsp;utility&nbsp;to&nbsp;recursively&nbsp;search&nbsp;a&nbsp;directory&nbsp;and\n"</SPAN> <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;<SPAN style="COLOR: maroon">"delete&nbsp;files&nbsp;older&nbsp;than&nbsp;a&nbsp;certain&nbsp;number&nbsp;of&nbsp;days.\n\n"</SPAN> <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;<SPAN style="COLOR: maroon">"Usage:&nbsp;DeleteOldFiles&nbsp;daysOld&nbsp;path\n\n"</SPAN> <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;<SPAN style="COLOR: maroon">"\tdaysOld\tnumber&nbsp;of&nbsp;days&nbsp;old&nbsp;the&nbsp;file&nbsp;must&nbsp;be&nbsp;over&nbsp;to&nbsp;be&nbsp;deleted\n\n"</SPAN> <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;<SPAN style="COLOR: maroon">"\tpath\tlocation&nbsp;on&nbsp;file&nbsp;system&nbsp;that&nbsp;you&nbsp;want&nbsp;to&nbsp;recursively&nbsp;search\n\n"</SPAN>; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.Console.WriteLine(message); <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;} <BR>} <BR></DIV></DIV></p>

<p><a href="http://www.woodwardweb.com/examples/DeleteOldFiles.zip">Download file and source</a></p>
                                    </div>

                                </div>
<div class="shareblock">
<script src="http://feeds.feedburner.com/~s/MartinWoodward?i=http://www.woodwardweb.com/programming/delete_old_file.html" type="text/javascript" charset="utf-8"></script>
</div>
                                <div class="asset-footer">

    
                                    <div class="entry-categories">
                                        <h4>Categories<span class="delimiter">:</span></h4>
                                        <ul>
                                            <li><a href="http://www.woodwardweb.com/dotnet/" rel="tag">Dotnet</a><span class="delimiter">,</span></li> <li class="entry-category"><a href="http://www.woodwardweb.com/programming/" rel="tag">Programming</a></li>
                                        </ul>
                                    </div>
    


                                    <div class="entry-tags">
                                        <h4>Tags<span class="delimiter">:</span></h4>
                                        <ul>
                                            <li><a href="javascript:void(0)" onclick="location.href='http://www.woodwardweb.com/mt/mt-search.cgi?blog_id=4&amp;tag=dotnet&amp;limit=20';return false;" rel="tag">dotnet</a><span class="delimiter">,</span></li> <li><a href="javascript:void(0)" onclick="location.href='http://www.woodwardweb.com/mt/mt-search.cgi?blog_id=4&amp;tag=programming&amp;limit=20';return false;" rel="tag">programming</a></li>
                                        </ul>
                                    </div>

                                </div>
                            </div>


                    
                    <div id="comments" class="comments">


    
    
        
    <h2 class="comments-header">3 Comments</h2>
    <div class="comments-content">
        
        <div id="comment-2188" class="comment">
            <div class="inner">
                <div class="comment-header">
                    <div class="asset-meta">
                        <span class="byline">
                            
        
                            <span class="vcard author"><a title="http://www.flyingjelly.net" href="http://www.flyingjelly.net" rel="nofollow">Ben</a></span>
        
                            | <a href="http://www.woodwardweb.com/programming/delete_old_file.html#comment-2188"><abbr class="published" title="2006-02-20T14:17:44+00:00">February 20, 2006  2:17 PM</abbr></a>
        
                        </span>
                    </div>
                </div>
                <div class="comment-content">
                    <p>Ah, pity you're not using OS X - you could use Automator at a fraction of the effort, and even use it to create plug-ins to other apps ;-)</p>

<p><a href="http://www.apple.com/macosx/features/automator/" rel="nofollow">http://www.apple.com/macosx/features/automator/</a></p>
                </div>
            </div>
        </div>
        
    
        
        <div id="comment-2201" class="comment">
            <div class="inner">
                <div class="comment-header">
                    <div class="asset-meta">
                        <span class="byline">
                            
        
                            <span class="vcard author"><a title="http://www.flyingjelly.net" href="http://www.flyingjelly.net" rel="nofollow">Ben</a></span>
        
                            | <a href="http://www.woodwardweb.com/programming/delete_old_file.html#comment-2201"><abbr class="published" title="2006-03-15T15:42:06+00:00">March 15, 2006  3:42 PM</abbr></a>
        
                        </span>
                    </div>
                </div>
                <div class="comment-content">
                    <p>Actually, that reminds me of my old job. I'd set up a CVS repository, and one guy on the team was a dimwit, and kept on checking in stuff he shouldn't. He was continually asking me to get rid of it, and it started to p*ss me off. He came over one day after doing the same thing twice in one morning, so I SSHd to the box and went to clear the new directory he'd created, using:</p>

<p>rm -rf /home/cvsroot/project/spanner</p>

<p>unfortunately (and I don't know why I typed the full path in anyway - saved doing a cd I guess) I actually typed:</p>

<p>rm -rf / home/cvsroot/project/spanner</p>

<p>(note the space!)</p>

<p>I realised my mistake when pages of deleted files went flying past my eyes!</p>
                </div>
            </div>
        </div>
        
    
        
        <div id="comment-2635" class="comment">
            <div class="inner">
                <div class="comment-header">
                    <div class="asset-meta">
                        <span class="byline">
                            
        
                            <span class="vcard author">Doug</span>
        
                            | <a href="http://www.woodwardweb.com/programming/delete_old_file.html#comment-2635"><abbr class="published" title="2008-11-04T22:35:27+00:00">November  4, 2008 10:35 PM</abbr></a>
        
                        </span>
                    </div>
                </div>
                <div class="comment-content">
                    <p>Thank you Martin,</p>

<p>Just what I was looking for. I added my logging class and popped it into my code.<br />
</p>
                </div>
            </div>
        </div>
        
    </div>
        
    


    
    


</div>




                        </div>
                    </div>


                    <div id="beta">
    <div id="beta-inner">


    
    <div class="widget-syndication widget">
    <div class="widget-content">
        <ul>
            <li><img src="http://www.woodwardweb.com/mt/mt-static/images/status_icons/feed.gif" alt="Subscribe to feed" width="9" height="9" /> <a href="http://www.woodwardweb.com/index.xml">Subscribe to this blog's feed</a></li>
        </ul>
    </div>
</div>
<div class="widget-pages widget">
    <div class="widget-content">
        <ul>
    
            <li class="page page-1741"><a href="http://www.woodwardweb.com/about.html">About</a></li>
    
            <li class="page page-1742"><a href="http://www.woodwardweb.com/contact.html">Contact Me</a></li>
    
    
        </ul>
    </div>
</div>

<div class="widget-tag-cloud widget">
    <h3 class="widget-header">Tag Cloud</h3>
    <div class="widget-content">
        <ul>
    
            <li class="rank-7"><a href="javascript:void(0)" onclick="location.href='http://www.woodwardweb.com/mt/mt-search.cgi?blog_id=4&amp;tag=books&amp;limit=20';return false;" rel="tag">books</a></li>
    
            <li class="rank-7"><a href="javascript:void(0)" onclick="location.href='http://www.woodwardweb.com/mt/mt-search.cgi?blog_id=4&amp;tag=buddies&amp;limit=20';return false;" rel="tag">buddies</a></li>
    
            <li class="rank-4"><a href="javascript:void(0)" onclick="location.href='http://www.woodwardweb.com/mt/mt-search.cgi?blog_id=4&amp;tag=dotnet&amp;limit=20';return false;" rel="tag">dotnet</a></li>
    
            <li class="rank-6"><a href="javascript:void(0)" onclick="location.href='http://www.woodwardweb.com/mt/mt-search.cgi?blog_id=4&amp;tag=gadgets&amp;limit=20';return false;" rel="tag">gadgets</a></li>
    
            <li class="rank-6"><a href="javascript:void(0)" onclick="location.href='http://www.woodwardweb.com/mt/mt-search.cgi?blog_id=4&amp;tag=java&amp;limit=20';return false;" rel="tag">java</a></li>
    
            <li class="rank-4"><a href="javascript:void(0)" onclick="location.href='http://www.woodwardweb.com/mt/mt-search.cgi?blog_id=4&amp;tag=personal&amp;limit=20';return false;" rel="tag">personal</a></li>
    
            <li class="rank-5"><a href="javascript:void(0)" onclick="location.href='http://www.woodwardweb.com/mt/mt-search.cgi?blog_id=4&amp;tag=podcasting&amp;limit=20';return false;" rel="tag">podcasting</a></li>
    
            <li class="rank-4"><a href="javascript:void(0)" onclick="location.href='http://www.woodwardweb.com/mt/mt-search.cgi?blog_id=4&amp;tag=programming&amp;limit=20';return false;" rel="tag">programming</a></li>
    
            <li class="rank-8"><a href="javascript:void(0)" onclick="location.href='http://www.woodwardweb.com/mt/mt-search.cgi?blog_id=4&amp;tag=radiotfs&amp;limit=20';return false;" rel="tag">radiotfs</a></li>
    
            <li class="rank-7"><a href="javascript:void(0)" onclick="location.href='http://www.woodwardweb.com/mt/mt-search.cgi?blog_id=4&amp;tag=software&amp;limit=20';return false;" rel="tag">software</a></li>
    
            <li class="rank-3"><a href="javascript:void(0)" onclick="location.href='http://www.woodwardweb.com/mt/mt-search.cgi?blog_id=4&amp;tag=teamprise&amp;limit=20';return false;" rel="tag">teamprise</a></li>
    
            <li class="rank-4"><a href="javascript:void(0)" onclick="location.href='http://www.woodwardweb.com/mt/mt-search.cgi?blog_id=4&amp;tag=technology&amp;limit=20';return false;" rel="tag">technology</a></li>
    
            <li class="rank-3"><a href="javascript:void(0)" onclick="location.href='http://www.woodwardweb.com/mt/mt-search.cgi?blog_id=4&amp;tag=tfs&amp;limit=20';return false;" rel="tag">tfs</a></li>
    
            <li class="rank-5"><a href="javascript:void(0)" onclick="location.href='http://www.woodwardweb.com/mt/mt-search.cgi?blog_id=4&amp;tag=tfs2005&amp;limit=20';return false;" rel="tag">tfs2005</a></li>
    
            <li class="rank-3"><a href="javascript:void(0)" onclick="location.href='http://www.woodwardweb.com/mt/mt-search.cgi?blog_id=4&amp;tag=tfs2008&amp;limit=20';return false;" rel="tag">tfs2008</a></li>
    
            <li class="rank-5"><a href="javascript:void(0)" onclick="location.href='http://www.woodwardweb.com/mt/mt-search.cgi?blog_id=4&amp;tag=tfs2010&amp;limit=20';return false;" rel="tag">tfs2010</a></li>
    
            <li class="rank-6"><a href="javascript:void(0)" onclick="location.href='http://www.woodwardweb.com/mt/mt-search.cgi?blog_id=4&amp;tag=toptip&amp;limit=20';return false;" rel="tag">toptip</a></li>
    
            <li class="rank-6"><a href="javascript:void(0)" onclick="location.href='http://www.woodwardweb.com/mt/mt-search.cgi?blog_id=4&amp;tag=vista&amp;limit=20';return false;" rel="tag">vista</a></li>
    
            <li class="rank-1"><a href="javascript:void(0)" onclick="location.href='http://www.woodwardweb.com/mt/mt-search.cgi?blog_id=4&amp;tag=vsts&amp;limit=20';return false;" rel="tag">vsts</a></li>
    
            <li class="rank-5"><a href="javascript:void(0)" onclick="location.href='http://www.woodwardweb.com/mt/mt-search.cgi?blog_id=4&amp;tag=web&amp;limit=20';return false;" rel="tag">web</a></li>
    
        </ul>
    </div>
</div>
<div class="widget-search widget">
    <h3 class="widget-header">Search</h3>
    <div class="widget-content">
      <!-- Google CSE Search Box Begins -->
      <form id="searchbox_005734105946009878802:nczju-nslyq" action="http://www.google.com/cse">
        <input type="hidden" name="cx" value="005734105946009878802:nczju-nslyq" />
        <input name="q" type="text" size=20" />
        <!--input type="submit" name="sa" value="Go" / -->
        <input type="hidden" name="cof" value="FORID:0" />
      </form>
      <script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=searchbox_005734105946009878802%3Anczju-nslyq"></script>
      <!-- Google CSE Search Box Ends -->
    </div>
</div>

<div class="widget-archive-monthly-dropdown widget-archive widget">
   <h3 class="widget-header"><a href="http://www.woodwardweb.com/archives.html">Archives</a></h3>
   <div class="widget-content">
      <select onchange="nav(this)">
         <option>Select a Month...</option>
         
         <option value="http://www.woodwardweb.com/2010/05/">May 2010</option>
         
    
        
         <option value="http://www.woodwardweb.com/2010/04/">April 2010</option>
         
    
        
         <option value="http://www.woodwardweb.com/2010/03/">March 2010</option>
         
    
        
         <option value="http://www.woodwardweb.com/2010/02/">February 2010</option>
         
    
        
         <option value="http://www.woodwardweb.com/2009/11/">November 2009</option>
         
    
        
         <option value="http://www.woodwardweb.com/2009/10/">October 2009</option>
         
    
        
         <option value="http://www.woodwardweb.com/2009/09/">September 2009</option>
         
    
        
         <option value="http://www.woodwardweb.com/2009/08/">August 2009</option>
         
    
        
         <option value="http://www.woodwardweb.com/2009/07/">July 2009</option>
         
    
        
         <option value="http://www.woodwardweb.com/2009/06/">June 2009</option>
         
    
        
         <option value="http://www.woodwardweb.com/2009/05/">May 2009</option>
         
    
        
         <option value="http://www.woodwardweb.com/2009/04/">April 2009</option>
         
    
        
         <option value="http://www.woodwardweb.com/2009/03/">March 2009</option>
         
    
        
         <option value="http://www.woodwardweb.com/2009/02/">February 2009</option>
         
    
        
         <option value="http://www.woodwardweb.com/2009/01/">January 2009</option>
         
    
        
         <option value="http://www.woodwardweb.com/2008/12/">December 2008</option>
         
    
        
         <option value="http://www.woodwardweb.com/2008/11/">November 2008</option>
         
    
        
         <option value="http://www.woodwardweb.com/2008/10/">October 2008</option>
         
    
        
         <option value="http://www.woodwardweb.com/2008/09/">September 2008</option>
         
    
        
         <option value="http://www.woodwardweb.com/2008/08/">August 2008</option>
         
    
        
         <option value="http://www.woodwardweb.com/2008/07/">July 2008</option>
         
    
        
         <option value="http://www.woodwardweb.com/2008/06/">June 2008</option>
         
    
        
         <option value="http://www.woodwardweb.com/2008/05/">May 2008</option>
         
    
        
         <option value="http://www.woodwardweb.com/2008/04/">April 2008</option>
         
    
        
         <option value="http://www.woodwardweb.com/2008/03/">March 2008</option>
         
    
        
         <option value="http://www.woodwardweb.com/2008/02/">February 2008</option>
         
    
        
         <option value="http://www.woodwardweb.com/2008/01/">January 2008</option>
         
    
        
         <option value="http://www.woodwardweb.com/2007/12/">December 2007</option>
         
    
        
         <option value="http://www.woodwardweb.com/2007/11/">November 2007</option>
         
    
        
         <option value="http://www.woodwardweb.com/2007/10/">October 2007</option>
         
    
        
         <option value="http://www.woodwardweb.com/2007/09/">September 2007</option>
         
    
        
         <option value="http://www.woodwardweb.com/2007/08/">August 2007</option>
         
    
        
         <option value="http://www.woodwardweb.com/2007/07/">July 2007</option>
         
    
        
         <option value="http://www.woodwardweb.com/2007/06/">June 2007</option>
         
    
        
         <option value="http://www.woodwardweb.com/2007/05/">May 2007</option>
         
    
        
         <option value="http://www.woodwardweb.com/2007/04/">April 2007</option>
         
    
        
         <option value="http://www.woodwardweb.com/2007/03/">March 2007</option>
         
    
        
         <option value="http://www.woodwardweb.com/2007/02/">February 2007</option>
         
    
        
         <option value="http://www.woodwardweb.com/2007/01/">January 2007</option>
         
    
        
         <option value="http://www.woodwardweb.com/2006/12/">December 2006</option>
         
    
        
         <option value="http://www.woodwardweb.com/2006/11/">November 2006</option>
         
    
        
         <option value="http://www.woodwardweb.com/2006/10/">October 2006</option>
         
    
        
         <option value="http://www.woodwardweb.com/2006/09/">September 2006</option>
         
    
        
         <option value="http://www.woodwardweb.com/2006/08/">August 2006</option>
         
    
        
         <option value="http://www.woodwardweb.com/2006/07/">July 2006</option>
         
    
        
         <option value="http://www.woodwardweb.com/2006/06/">June 2006</option>
         
    
        
         <option value="http://www.woodwardweb.com/2006/05/">May 2006</option>
         
    
        
         <option value="http://www.woodwardweb.com/2006/04/">April 2006</option>
         
    
        
         <option value="http://www.woodwardweb.com/2006/03/">March 2006</option>
         
    
        
         <option value="http://www.woodwardweb.com/2006/02/">February 2006</option>
         
    
        
         <option value="http://www.woodwardweb.com/2006/01/">January 2006</option>
         
    
        
         <option value="http://www.woodwardweb.com/2005/12/">December 2005</option>
         
    
        
         <option value="http://www.woodwardweb.com/2005/11/">November 2005</option>
         
    
        
         <option value="http://www.woodwardweb.com/2005/10/">October 2005</option>
         
    
        
         <option value="http://www.woodwardweb.com/2005/09/">September 2005</option>
         
    
        
         <option value="http://www.woodwardweb.com/2005/08/">August 2005</option>
         
    
        
         <option value="http://www.woodwardweb.com/2005/07/">July 2005</option>
         
    
        
         <option value="http://www.woodwardweb.com/2005/06/">June 2005</option>
         
    
        
         <option value="http://www.woodwardweb.com/2005/05/">May 2005</option>
         
    
        
         <option value="http://www.woodwardweb.com/2005/04/">April 2005</option>
         
    
        
         <option value="http://www.woodwardweb.com/2005/03/">March 2005</option>
         
    
        
         <option value="http://www.woodwardweb.com/2005/02/">February 2005</option>
         
    
        
         <option value="http://www.woodwardweb.com/2005/01/">January 2005</option>
         
    
        
         <option value="http://www.woodwardweb.com/2004/12/">December 2004</option>
         
    
        
         <option value="http://www.woodwardweb.com/2004/11/">November 2004</option>
         
    
        
         <option value="http://www.woodwardweb.com/2004/10/">October 2004</option>
         
    
        
         <option value="http://www.woodwardweb.com/2004/09/">September 2004</option>
         
    
        
         <option value="http://www.woodwardweb.com/2004/08/">August 2004</option>
         
    
        
         <option value="http://www.woodwardweb.com/2004/07/">July 2004</option>
         
    
        
         <option value="http://www.woodwardweb.com/2004/06/">June 2004</option>
         
    
        
         <option value="http://www.woodwardweb.com/2004/05/">May 2004</option>
         
    
        
         <option value="http://www.woodwardweb.com/2004/04/">April 2004</option>
         
    
        
         <option value="http://www.woodwardweb.com/2004/03/">March 2004</option>
         
    
        
         <option value="http://www.woodwardweb.com/2004/02/">February 2004</option>
         
    
        
         <option value="http://www.woodwardweb.com/2004/01/">January 2004</option>
         
    
        
         <option value="http://www.woodwardweb.com/2003/12/">December 2003</option>
         
    
        
         <option value="http://www.woodwardweb.com/2003/11/">November 2003</option>
         
    
        
         <option value="http://www.woodwardweb.com/2003/10/">October 2003</option>
         
    
        
         <option value="http://www.woodwardweb.com/2003/09/">September 2003</option>
         
    
        
         <option value="http://www.woodwardweb.com/2000/12/">December 2000</option>
         
    
        
         <option value="http://www.woodwardweb.com/2000/07/">July 2000</option>
         
    
        
         <option value="http://www.woodwardweb.com/2000/05/">May 2000</option>
         
    
        
         <option value="http://www.woodwardweb.com/2000/04/">April 2000</option>
         
    
        
         <option value="http://www.woodwardweb.com/2000/01/">January 2000</option>
         
      </select>
   </div>
</div>
<script type="text/javascript" charset="utf-8">
/* <![CDATA[ */
function nav(sel) {
   if (sel.selectedIndex == -1) return;
   var opt = sel.options[sel.selectedIndex];
   if (opt && opt.value)
      location.href = opt.value;
}
/* ]]> */
</script>
        
    

<div class="widget-recent-entries widget-archives widget">
    <h3 class="widget-header">Recent Entries</h3>
    <div class="widget-content">
        <ul>
        
            <li><a href="http://www.woodwardweb.com/vsts/speaking_at_the_1.html">Speaking at the Test Manager Forum</a></li>
        
    
        
            <li><a href="http://www.woodwardweb.com/teamprise/using_team_expl.html">Using Team Explorer Everywhere with CodePlex</a></li>
        
    
        
            <li><a href="http://www.woodwardweb.com/teamprise/goodbye_teampri.html">Goodbye Teamprise, Hello Team Explorer Everywhere</a></li>
        
    
        
            <li><a href="http://www.woodwardweb.com/java/speaking_at_ecl.html">Speaking at EclipseCon 2010</a></li>
        
    
        
            <li><a href="http://www.woodwardweb.com/teamprise/whats_in_a_name.html">What&rsquo;s in a Name?</a></li>
        
    
        
            <li><a href="http://www.woodwardweb.com/vsts/tfs/bulk_editing_a.html">Bulk Editing a Build Definition Workspace Mapping</a></li>
        
    
        
            <li><a href="http://www.woodwardweb.com/personal/working_for_mic.html">Working for Microsoft, Three Months In</a></li>
        
    
        
            <li><a href="http://www.woodwardweb.com/teamprise/were_hiring.html">We are Hiring!</a></li>
        
    
        
            <li><a href="http://www.woodwardweb.com/vsts/tfs/creating_custom.html">Creating Custom Workflow Activities for TFS Build 2010</a></li>
        
    
        
            <li><a href="http://www.woodwardweb.com/vsts/to_msbuild_or_n.html">To MSBuild or not to MSBuild</a></li>
        
        </ul>
    </div>
</div>
        
    

<div class="widget-creative-commons widget">
   <div class="widget-content">
      <a href="http://creativecommons.org/licenses/by/1.0/"><img alt="Creative Commons License" src="http://creativecommons.org/images/public/somerights" /></a><br />
      This blog is licensed under a <a href="http://creativecommons.org/licenses/by/1.0/">Creative Commons License</a>.
   </div>
</div>




    </div>
</div>






                </div>
            </div>


            <div id="footer">
    <div id="footer-inner">
        <div id="footer-content">


            <div class="widget-creative-commons widget">
                <div class="widget-content">
                    This blog is licensed under a <a href="http://creativecommons.org/licenses/by/1.0/">Creative Commons License</a>.
                </div>
            </div>

        </div>
    </div>
</div>



        </div>
    </div>
</body>
</html>
